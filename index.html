<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
    <script src="./script.js"></script>

</head>
<body>
    <h1>Let's Play Rock, Paper, Scissors!</h1>
    <h2>Press a button to make your selection!</h2>
    <div id="btnContainer">
        <button id="rock" class="selection">Rock</button>
        <button id="paper" class="selection">Paper</button>
        <button id="scissors" class="selection">Scissors</button>
    </div>
    <script>
        // PSUEDOCODE
        // ask user for their choice
            // use trim() to clear white space
        // get a choice from computer
            // input

        // compare the choices to return a winner
            // if computerChoice matches user choice
                // return "it is a tie!"
            // else if player wins
                // return "You Won, userChoice beats computerChoice."
            // else
                // return "You lost, computerChoice beast userChioce."
        // run playGame() to call playRound 5 times
            
       // button refences
       const btnContainer = document.querySelector('#btnContainer');

       //button event handlers
       btnContainer.addEventListener('click', documentRound);
      
        // getcomputerChoice function
        function getComputerChoice() {
            let computerChoiceNum = Math.floor(Math.random()*3)
            if (computerChoiceNum === 0) {
                return "Rock";
            } else if (computerChoiceNum === 1) {
                return "Paper";
            } else if (computerChoiceNum === 2) {
                return "Scissors";
            }
        }
        // formatUserChoice
        function onlyFirstUpper(string) {
            let firstLetterUpper = string[0].toUpperCase();
            let restOfStringLower = (string.slice(1, string.length)).toLowerCase();
            return firstLetterUpper + restOfStringLower;
        }
        // playRound function  
        function  playRound(playerSelection, computerSelection) {
            playerSelection = playerSelection.trim();
            playerSelection = onlyFirstUpper(playerSelection);
            if (playerSelection === computerSelection) {
                return `It is a tie! You both chose ${computerSelection}.`;
            } else if (
                playerSelection === 'Paper' && computerSelection === 'Rock' ||
                playerSelection === 'Rock' && computerSelection === 'Scissors' ||
                playerSelection === 'Scissors' && computerSelection === 'Paper'
                ){
                return `You won! ${playerSelection} beats ${computerSelection}.`;
            } else if (
                computerSelection === 'Paper' && playerSelection === 'Rock' ||
                computerSelection === 'Rock' && playerSelection === 'Scissors' ||
                computerSelection === 'Scissors' && playerSelection === 'Paper'
                ){
                return `You lost. ${computerSelection} beats ${playerSelection}.`
            } else {
                return `${playerSelection} isn't an option! You lose!`
            }
        }

        // tie function to button click of all options
        function documentRound(event) {
            let target = event.target;
            console.log(`Event registered as ${target.id}`)

            console.log(playRound(target.id, getComputerChoice()))
        }

        /* DELETE THIS WHEN PARTS ARE DONE BEING USED
        // playGame function
        function playGame() {
                        // declare variables
                        let rounds = 5;
            let playerScore = 0;
            let computerScore = 0;
            let ties = 0;
            let playerSelection;
            // start loop and keep score
            for (let i = 0; i < rounds; i++) {
                playerSelection = prompt("Rock, Paper, or Scissors?");
                let won = playRound(playerSelection, getComputerChoice());
                // display who won the round
                console.log(won);
                // adjust scores to account for winner
                if (won.search(/won/i) >= 0) {
                    playerScore++;
                } else if (won.search(/lost/i) >= 0 || won.search(/lose/i) >= 0) {
                    computerScore++;
                } else {
                    ties++;
                }
            }
            // compare results
            if (playerScore > computerScore) {
                console.log(`You won the game ${playerScore} to ${computerScore} with ${ties} tie/s`);
            } else if (playerScore < computerScore){
                console.log(`The computer won the game ${computerScore} to ${playerScore} with ${ties} tie/s`);
            } else {
                console.log(`It was a tie! ${playerScore} and ${computerScore} with ${ties} tie/s`)
            }
        }
        */
    </script>
    
</body>
</html>